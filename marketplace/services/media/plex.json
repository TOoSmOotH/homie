{
  "id": "plex",
  "name": "Plex Media Server",
  "version": "1.32.8",
  "author": "Plex Inc.",
  "description": "Connect to your Plex Media Server for monitoring and management",
  "longDescription": "Integrate with your existing Plex server to monitor activity, manage libraries, view statistics, and control your media server from Homie.",
  "category": "media",
  "tags": ["media", "streaming", "movies", "tv", "music", "photos"],
  "icon": "🎬",
  "homepage": "https://www.plex.tv",
  "documentation": "https://support.plex.tv",
  "features": [
    {
      "id": "library_management",
      "name": "Library Management",
      "description": "Manage and scan Plex libraries",
      "icon": "📚",
      "capabilities": [
        "Scan individual libraries",
        "Analyze media files",
        "Refresh metadata",
        "Empty trash",
        "Optimize database"
      ]
    },
    {
      "id": "now_playing",
      "name": "Activity Monitor",
      "description": "Real-time monitoring of active streams",
      "icon": "▶️",
      "capabilities": [
        "View active sessions",
        "Monitor transcoding",
        "Track bandwidth usage",
        "Stop streams remotely",
        "Send messages to users"
      ]
    },
    {
      "id": "recently_added",
      "name": "Recent Content",
      "description": "Track newly added media",
      "icon": "🆕",
      "capabilities": [
        "View recent additions",
        "Filter by library",
        "See metadata",
        "Download posters"
      ]
    },
    {
      "id": "plexpass_features",
      "name": "Plex Pass Features",
      "description": "Premium features for Plex Pass users",
      "icon": "⭐",
      "capabilities": [
        "Sync status",
        "DVR management",
        "Live TV guide",
        "Hardware transcoding stats"
      ]
    },
    {
      "id": "statistics",
      "name": "Server Statistics",
      "description": "Detailed server and usage statistics",
      "icon": "📊",
      "capabilities": [
        "Watch history",
        "Most played content",
        "User statistics",
        "Server performance",
        "Storage analytics"
      ]
    },
    {
      "id": "user_management",
      "name": "User & Sharing",
      "description": "Manage users and library sharing",
      "icon": "👥",
      "capabilities": [
        "Manage home users",
        "Control library access",
        "Invite friends",
        "Manage devices",
        "View user activity"
      ]
    }
  ],
  "connection": {
    "type": "api",
    "auth": "token",
    "fields": [
      {
        "key": "url",
        "label": "Plex Server URL",
        "type": "url",
        "required": true,
        "placeholder": "http://192.168.1.100:32400",
        "description": "Local URL to your Plex server"
      },
      {
        "key": "token",
        "label": "X-Plex-Token",
        "type": "password",
        "required": true,
        "description": "Find in Plex Web App > Settings > Authorized Devices > View XML"
      },
      {
        "key": "server_name",
        "label": "Server Name",
        "type": "text",
        "required": false,
        "description": "Friendly name for this server"
      }
    ]
  },
  "api": {
    "headers": {
      "X-Plex-Token": "{token}",
      "Accept": "application/json"
    },
    "endpoints": {
      "identity": "/identity",
      "libraries": "/library/sections",
      "library_scan": "/library/sections/{id}/refresh",
      "sessions": "/status/sessions",
      "recently_added": "/library/recentlyAdded",
      "on_deck": "/library/onDeck",
      "statistics": "/statistics/media",
      "activities": "/activities",
      "transcode_sessions": "/transcode/sessions",
      "playlists": "/playlists",
      "butler_tasks": "/butler"
    }
  },
  "quickActions": [
    {
      "id": "scan_all",
      "name": "Scan All Libraries",
      "icon": "🔄",
      "action": "api_call",
      "endpoint": "/library/sections/all/refresh"
    },
    {
      "id": "view_activity",
      "name": "Current Activity",
      "icon": "📊",
      "action": "show_widget",
      "widget": "now_playing"
    },
    {
      "id": "optimize_db",
      "name": "Optimize Database",
      "icon": "⚡",
      "action": "api_call",
      "endpoint": "/butler/OptimizeDatabase"
    }
  ],
  "widgets": [
    {
      "id": "now_playing",
      "name": "Now Playing",
      "type": "realtime",
      "refresh": 5000,
      "size": "medium"
    },
    {
      "id": "recent_additions",
      "name": "Recently Added",
      "type": "grid",
      "refresh": 60000,
      "size": "large"
    },
    {
      "id": "server_health",
      "name": "Server Health",
      "type": "status",
      "refresh": 30000,
      "size": "small"
    },
    {
      "id": "transcode_activity",
      "name": "Transcoding",
      "type": "gauge",
      "refresh": 5000,
      "size": "small"
    }
  ]
}